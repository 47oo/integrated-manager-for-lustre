

{% extends 'base.html' %}

{% block content %}

<div id="event_filter">
    <h2 class="filter_title">Filter events</h2>
    <form method='post'>
        {% csrf_token %}
        {% for field in form %}
            <p>{{field.label_tag}}<br>{{field}}</p>
        {% endfor %}
        <p align=right>
        <input type='submit' value='Update'/>
        </p>
    </form>
</div>

{% load pagination_tags %}

{% autopaginate events 20 %}

<div id="event_list">
    {% if events.count == 0 %}
    <p class='empty_table_text'>No events found</p>
    {% endif %}
    <table class='event_list'>
        <tbody>
            {% for event in events %}
                <tr class='{{event.severity_class}}'>
                    <td class='event_created_at'>{{event.created_at}}</td>
                    <td class='event_host'>{{event.host.pretty_name}}</td>
                    <td class='event_severity'></td>
                    <td class='event_message'>{{event.message}}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    {% paginate %}
</div>


{% endblock %}
