#!/usr/bin/env python

from distutils.core import setup
import sys

print sys.argv[1]

#if not os.path.exists('monitor/bin/hydra-monitor') and \
#       os.path.exists('monitor/bin/hydra-monitor.py'):
#    os.link('monitor/bin/hydra-monitor.py', 'monitor/bin/hydra-monitor')

setup(name = 'hydra-server',
      license = 'Proprietary',
      version = '@VERSION@',
      author = "Whamcloud, Inc.",
      author_email = "info@whamcloud.com",
      description = 'The Whamcloud Lustre Monitoring and Adminisration Interface',
      long_description = 'This is the Whamcloud Monitoring and Adminstration Interface',
      url = 'http://www.whamcloud.com/',
      packages = ['', 'monitor', 'monitor/lib',
                  'chroma_core', 'chroma_core/lib', 'chroma_core/models',
                  'chroma_core/lib/storage_plugin', 'chroma_core/plugins',
                  'polymorphic', 'chroma_api', 'hydradashboard', 'chroma_ui',
                  'benchmark', 'benchmark/management',
                  'benchmark/management/commands'],
      scripts = ["chroma_core/bin/storage_daemon", "hydra-host-discover.py"],
      package_data={'monitor': ['monitor/migrations'],
                    'chroma_core': ['chroma_core/migrations'],
                    'chroma_api': [],
                    'hydradashboard': ['templates/*.html',
                                       'static/css/*.css',
                                       'static/css/smoothness/*.css',
                                       'static/css/smoothness/images/*.png',
                                       'static/images/*',
                                       'static/js/*',
                                       'static/css/images/*'],
                    'chroma_ui': ['templates/*.html',
                                'static/css/*.css',
                                'static/images/*.png',
                                'static/images/*.jpg',
                                'static/js/*',
                                'static/images/storage_plugin/*']
                   }
      )

#if os.path.exists('monitor/bin/hydra-monitor'):
#    os.unlink('monitor/bin/hydra-monitor')
