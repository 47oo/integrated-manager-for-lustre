#!/usr/bin/env python

from distutils.core import setup
import os
import sys

print sys.argv[1]

#if not os.path.exists('monitor/bin/hydra-monitor') and \
#       os.path.exists('monitor/bin/hydra-monitor.py'):
#    os.link('monitor/bin/hydra-monitor.py', 'monitor/bin/hydra-monitor')

setup(name = 'hydra-server',
      license = 'Proprietary',
      version = '@VERSION@',
      author = "Whamcloud, Inc.",
      author_email = "info@whamcloud.com",
      description = 'The Whamcloud Lustre Monitoring and Adminisration Interface',
      long_description = 'This is the Whamcloud Monitoring and Adminstration Interface',
      url = 'http://www.whamcloud.com/',
      packages = ['', 'monitor', 'monitor/lib',
                  'configure', 'configure/lib', 'configure/models',
                  'configure/lib/storage_plugin', 'configure/plugins',
                  'polymorphic', 'hydraapi', 'hydradashboard', 'hydracm'],
      scripts = ["configure/bin/storage_daemon"],
      package_data={'monitor': ['templates/*', 'static/css/*.css',
                                'static/css/ui-lightness/*.css',
                                'static/css/ui-lightness/images/*',
                                'static/images/*', 'static/js/*'],
                    'configure': ['templates/*', 'static/css/*.css',
                                  'static/images/*.png', 'static/images/storage_plugin/*', 'static/js/*'],
                    'hydraapi': ['templates/*', 'static/css/*.css',
                                  'static/images/*', 'static/js/*'],
                    'hydradashboard': ['templates/*', 'static/css/*.css',
                                  'static/images/*', 'static/js/*'],
                    'hydracm': ['templates/*', 'static/css/*.css',
                                  'static/images/*', 'static/js/*']
                   }
      )

#if os.path.exists('monitor/bin/hydra-monitor'):
#    os.unlink('monitor/bin/hydra-monitor')
