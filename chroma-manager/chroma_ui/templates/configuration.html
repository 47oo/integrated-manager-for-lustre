
<script type="text/javascript" src="{{STATIC_URL}}js/configure_charts.js"></script>
<script type='text/javascript' src="{{STATIC_URL}}js/filesystem_configuration.js"></script>
<script type="text/javascript">
  $(document).ajaxComplete(function() {
    $('button.cancel_button:not(.ui-button)').each(function() {
      $(this).html('Cancel')
        .click(function() {window.history.back();})
        .button({icons: {primary: 'ui-icon-close'}});
    });
    $('a.button:not(.ui-button)').each(function() {
      $(this).button();
    });

    var apply_button = function(selector, icon) {
      $(selector).each(function() {

        var excludeNewCode = !($(this).hasClass('btn') || $(this).filter('[ng-click]').length > 0);

        if (!$(this).hasClass('ui-button') && excludeNewCode) {
          $(this).button({icons: {primary: icon}});
        }
      });
    }
    apply_button('button.add', 'ui-icon-plusthick');
    apply_button('button.submit', 'ui-icon-check');
    apply_button('button.advanced', 'ui-icon-gear');
    apply_button('button.close', 'ui-icon-closethick');

    //for adding smoothness to all table buttons
    $('button').not('.btn').not('[ng-click]').button();
  });

  var ConfigureTabs = function() {
    function init() {
      $("#tabs").tabs({
        selected: -1,
        select: function (event, ui) {
          var tab = ui.panel.id.split("-")[0];
          var path = "configure/" + tab + "/";
          if (window.location.pathname.indexOf(UI_ROOT + path) != 0) {
            Backbone.history.navigate(path, {trigger: true});
          }
        }
      });
    }

    return {init: init}
  }();
</script>

{% if '/configure/filesystem/' in request.path %}
  <div id='filesystem-tab'>
    <div id='filesystem-tab-list' style="display: none">
      {% include "filesystem_list.html" %}
    </div>
    <div id='filesystem-tab-create' style="display: none">
      {% include "filesystem_create.html" %}
    </div>
    <div id='filesystem-tab-detail' style="display: none">
      {% include "filesystem_detail.html" %}
    </div>
  </div>
{% elif '/configure/mgt/' in request.path %}
  <div id='mgt-tab'>
    {% include "mgt_tab.html" %}
  </div>
{% elif '/configure/volume/' in request.path %}
  <div id='volume-tab'>
    {% include "volume_tab.html" %}
  </div>
{% elif '/configure/server/' in request.path %}
  <div id='server-tab'>
    {% include "server_tab.html" %}
  </div>
{% elif '/configure/storage/' in request.path %}
  <div id='storage-tab'>
    {% include "storage_tab.html" %}
  </div>
{% elif '/configure/power/' in request.path %}
  <div id='power-tab'>
    {% include "power_control.html" %}
  </div>
{% elif '/configure/user/' in request.path %}
  <div id='user-tab'>
    {% include "user_tab.html" %}
  </div>
{% endif %}
