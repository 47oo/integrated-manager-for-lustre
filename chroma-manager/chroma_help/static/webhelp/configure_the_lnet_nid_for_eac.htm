<!DOCTYPE HTML>
<html>
<head>
   <title>Configure LNet for each server</title>
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="content-language" content="en-us" />
   <meta name="description" content="LNET provides the client network infrastructure required by the Lustre file system. It supports many commonly-used network types such as InfiniBand and Ethernet.&nbsp;" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <link id="tabscheme" type="text/css" href="hm_topic.css" rel="stylesheet" />   
<style type="text/css">
/* No header topics */

/* Breadcrumb trail */
p#breadcrumbs {
font-family: Verdana, Tahoma, Helvetica, Sans-Serif;   padding: 2px 0 1px 2px;
   margin: 0;
   font-size: 8pt; 
   color: #999;
   }   
p#breadcrumbs a { color: #999; text-decoration: none;}
p#breadcrumbs a:visited {color: #999;}
p#breadcrumbs a:hover { color: #333; border-bottom: 1px dotted #333; }

/* Search hightlight color */
span.highlight {background-color: #ffff40;}
  div#hmsocialmedia {
  min-width: 606px;
  }
</style>
<script type="text/javascript">
var hmHeaderTopic = true;

</script> 
<!--[if IE 9]>
<link id="iesvgcss" rel="stylesheet" type="text/css" href="hm_webhelp_svg.css" />
<![endif]-->	
<script src="jquery.js"></script>
<script type="text/javascript" src="jquery.tools.min.js"></script>
<script type="text/javascript" src="jquery.scrollTo-min.js"></script>
<script type="text/javascript"> 
// General topic variables
var tVars = {
   hmHelpPage: "index.html",
   nextP: "configure_the_volumes.htm",
   prevP: "configure_storage_servers.htm",
   currP: "configure_the_lnet_nid_for_eac.htm",
   defP: "intel_manager_for_lustre.htm",
   mailUrl: "",
   mailUrlQuery: "",
   titleP: "Configure LNet for each server",
   mailsubject: "Feedback on: Intel® Manager for Lustre* - Configure LNet for each server",
   sharesubject: "Intel® Manager for Lustre* - Configure LNet for each server",
   simplesubject: "Documentation%20Feedback",
   mailid: "Configure_the_LNet_NID_for_eac",
   mailpath: "Creating a new Lustre* file system &gt; Configure LNet for each server /",
   mailbody: "Dear Support Staff,",
   fbtype: false,
   header: true,
   background: "bg.png",
   tablesReady: false,
   togglesReady: false,
   webRedirect: true,
   topicTitleBar: true,
   printFooter: true,
   zoomTip: "Click to view full size image",
   autoPrint: true,
   printButton: "Print",
   printButtonTip: "Print the current topic"
   }
// Popup configuration
 var hmpBShadow = true;
 var hmPopSmallDim = 500;
 var hmPopKillVideo = true;
 // AutoTOC variables
 var hmatocvars = {
   atoc_show: true,
   atoc_title: "Contents",
   atoc_tip: "Jump to:&nbsp;",
   atoc_minHeaders: 3,
   atoc_btntip_off: "No contents entries on this page",
   atoc_btntip_on: "Display/hide topic directory",
   atoc_toptip: "Jump to top of page",
   atoc_top: "Scroll to Top of Page",
   atoc_bg: "#f6f6f6",
   atoc_border: "silver",
   atoc_linkcolor: "#444",
   atoc_linklimit: 45,
   atoc_hovercolor: "#000",
   atoc_hoverbgcolor: "#e0e0e0"
}
// Sortable tables
var sortVars = {
   europeandate: false,
   germanNumbers: false,
   imagePath: "",
   image_up: "arrow-up.gif",
   image_down: "arrow-down.gif",
   image_empty: "arrow-empty.gif",
   image_none: "arrow-none.gif",
   sort_tip: "Click to sort on this column",
   umlauts: "false"
   }

</script>

<script type="text/javascript">
if (tVars.topicTitleBar) { 
$(document).ready(function() {
var doc = document;  
try {
if (parent.hmWebHelp.navWidth != null) doc = parent.document;
doc.title = $("<div/>").html("Intel® Manager for Lustre* - Configure LNet for each server").text();
window.onunload = function() {doc.title = $("<div/>").html("Intel® Manager for Lustre*").text();}
} catch(err) {}
});
}
</script>

<script type="text/javascript" src="//platform.linkedin.com/in.js"></script>
<script type="text/javascript" src="helpman_settings.js"></script>
<script type="text/javascript" src="helpman_topicinit.js"></script>
<script type="text/javascript" src="hmtopic.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "configure_the_lnet_nid_for_eac.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!--ZOOMSTOP-->
<div id="hmsocialmedia">
	<ul class="social-buttons">
	<li>
		<div class="fb-button">
		<iframe src="https://www.facebook.com/plugins/like.php?href=http://www.ec-software.com/help/index.html?configure_the_lnet_nid_for_eac.htm"
        scrolling="no" frameborder="0"
        style="border:none; width:300px; height:26px"></iframe>
		</div>
	</li>
	<li>
	<div class="twitter-button">
		<a id="tweetthis" href="https://twitter.com/share" class="twitter-share-button" data-url="http://www.ec-software.com/help/index.html?configure_the_lnet_nid_for_eac.htm" data-via=""><%BTNTEXT_SHARETWEET%</a>
		<script>(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}})(document,"script","twitter-wjs");</script>
	</div>
	</li>
	<li>
		<div class="googleplusone-button">
                <g:plusone size="medium" count="false" href="http://www.ec-software.com/help/index.html?configure_the_lnet_nid_for_eac.htm"></g:plusone>
                </div>
		<script type="text/javascript">
		window.___gcfg = {lang: 'en-US'};
      (function(){var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;po.src = 'https://apis.google.com/js/plusone.js';var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);})();
    </script>
                
	</li> 
	<li>
		<div class="linkedin-button"><script type="IN/Share" data-url="http://www.ec-software.com/help/index.html?configure_the_lnet_nid_for_eac.htm"></script></div>
	</li>
	<li>
		<div id="mailthisbutton"><a href="mailto:?body=http://www.ec-software.com/help/index.html%3F<%HREF_CURRENT_PAGE%" class="sbutton">
		<span id="sbuttontext">Mail This</span>
		</a></div>
	</li> 
	</ul>
	</div>


<ul id="topictabs" class="tabs">
<li id="indextab" class="hmtabs"><a href="#" id="indextablink" class="current"><span>Configure LNet for each server</span></a></li>
</ul>
<div id="hmbox">
<div id="hmheader">
<div id="hmheadercontents">
 
<h1 class="p_Heading1"><span class="f_Heading1">Configure LNet for each server</span></h1>

</div>
<div id="atocIcon" class="navdivs">
<img class="navicon" id="hmAtocLink" src="contents_off.png" alt="No contents entries on this page" title="No contents entries on this page" />
<br /><span>Contents</span>
</div>
</div>
<div id="autoTocWrapper" class="topicmenu"></div>
<div id="idcontent">
<div id="unclicker"></div>

<!--ZOOMRESTART-->
<p>LNET provides the client network infrastructure required by the Lustre file system. It supports many commonly-used network types such as InfiniBand and Ethernet. </p>
<p>Basic LNET configuration can be performed using the Intel® Manager for Lustre GUI. We can set the NIDs for each server port that we want to connect to LNet. Using the GUI, you can configure NIDs for each OSS, MGS and MDS server, and if you're configuring hierarchical storage management, for each HSM Agent node and Robinhood policy engine server as well.</p>
<p><span style="font-weight: bold;">Note</span>: If you use the Intel® Manager for Lustre GUI to configure LNET, the file system must exist on a single LNET, and &nbsp;all servers and clients must be on this LNET. &nbsp;In this case, all configuration information is saved in a reserved file called /etc/modprobe.d/iml_lnet_module_parameters.conf. &nbsp;(Do not manually edit this file.) However, if you wish to configure more advanced features, such as routes and IP networks, then you should do this manually, in a separate file contained in the /etc/modprobe.d directory. &nbsp;For more information, see the Lustre Operations Manual, Chapter 9 - Configuring Lustre Networking: http://build.whamcloud.com/job/lustre-manual/lastSuccessfulBuild/artifact/lustre_manual.xhtml#configuringlnet.</p>
<p>&nbsp;</p>
<p>To configure LNet NIDs for a server port:</p>
<p style="text-align: left; line-height: 1.20; padding: 0px 0px 0px 18px; margin: 0px 0px 0px 16px;"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;display:inline-block;width:18px;margin-left:-18px">1.</span>At the menu bar, click the Configuration drop-down menu and click Servers.</p><p style="text-align: left; line-height: 1.20; padding: 0px 0px 0px 19px; margin: 0px 0px 0px 15px;"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;display:inline-block;width:18px;margin-left:-18px">2.</span>To set the NID for a network interface on a given server, the <span style="font-weight: bold;">LNet State</span> for that server must indicate <span style="font-weight: bold;">LNet up</span>. To load and start LNet, click <span style="font-weight: bold;">Actions</span> and select <span style="font-weight: bold;">Start LNet</span>. </p><p style="text-align: left; line-height: 1.20; padding: 0px 0px 0px 19px; margin: 0px 0px 0px 15px;"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;display:inline-block;width:18px;margin-left:-18px">3.</span>When LNet has started, the <span style="font-weight: bold;">LNet State</span> will indicate <span style="font-weight: bold;">LNet up</span>, and the <span style="font-weight: bold;">Configure</span> button becomes active. Click <span style="font-weight: bold;">Configure</span>.<br />
&nbsp;<br />
<img src="lnet_config_zoom90.png" width="700" height="385" alt="LNET_config" style="border:none" /><br />
&nbsp;</p><p style="text-align: left; line-height: 1.20; padding: 0px 0px 0px 19px; margin: 0px 0px 0px 15px;"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;display:inline-block;width:18px;margin-left:-18px">4.</span>The NID Configuration for &lt;server name&gt; dialogue appears. This window applies to this server only. Available network interfaces appear on the left, with their associated IP addresses. Click the LNet button for the desired interface to select the Lustre Network number you want to assign to this interface. Do this for each interface you want to configure with an LNet NID.</p><p style="text-align: left; line-height: 1.20; padding: 0px 0px 0px 19px; margin: 0px 0px 0px 15px;"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;display:inline-block;width:18px;margin-left:-18px">5.</span>Click <span style="font-weight: bold;">Save</span>. Click <span style="font-weight: bold;">Close</span> to close this dialogue.</p><p style="text-align: left; line-height: 1.20; padding: 0px 0px 0px 19px; margin: 0px 0px 0px 15px;"><span style="font-size:12pt; font-family: 'Calibri';color:#000000;display:inline-block;width:18px;margin-left:-18px">6.</span>Repeat this process for each server in your file system.</p>
<!--ZOOMSTOP-->

</div> <!-- idcontent -->
</div><!-- hmbox --> 
</body>
</html>
